\documentclass[twoside,11pt]{article}
\PassOptionsToPackage{hyphens}{url}
\usepackage{jmlr2e}
\usepackage{amsmath}
\usepackage[toc,page]{appendix}
\usepackage[table]{xcolor}
\usepackage[marginparsep=30pt]{geometry}
\usepackage{stmaryrd}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{tabu}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{listings}
\usepackage{fancyref}
\usepackage{relsize}
\usepackage{float}
\usepackage{subcaption}

\usetikzlibrary{%
    arrows,
    arrows.meta,
    decorations,
    backgrounds,
    positioning,
    fit,
    petri,
    shadows,
    datavisualization.formats.functions,
    calc,
    shapes,
    shapes.multipart,
    matrix,
    plotmarks
}

\usepgfplotslibrary{fillbetween}

\pgfplotsset{
  compat=1.3,
  every non boxed x axis/.style={
  enlarge x limits=false,
  x axis line style={}%-stealth},
  },
  every boxed x axis/.style={},
  every non boxed y axis/.style={
  enlarge y limits=false,
  y axis line style={}%-stealth},
  },
  every boxed y axis/.style={},
}

\def\perc{\texttt{percolate}}
\def\v{\texttt{v0.1.0}}

\def\titl{Programming Skills coursework II b: benchmarking
  \perc{} \v{} with different densities}

\title{\titl}

\author{}
%\name Jonas Fassbender
%        \email jonas@fassbender.dev}

\ShortHeadings{B160509}{B160509}
\firstpageno{1}


\begin{document}

\maketitle

\begin{abstract}
\end{abstract}

\begin{keywords}
\end{keywords}

\section{Introduction} % {{{

% }}}

\section{Method} % {{{

% }}}

\section{Results} % {{{

% 1st part fig {{{
\begin{figure}[htbp]
\begin{center}
\noindent
% density -> time_sum {{{
\begin{subfigure}[b]{0.49\textwidth}
\begin{tikzpicture}[scale=1]
  \datavisualization[
    scientific axes=clean,
    visualize as scatter/.list={d},
    d={style={mark=x, mark size=1.5pt}},
    y axis={include value={0}, label={time in seconds $t$}},
    x axis={include value={0,1}, label={$\rho$}},
  ]
  data[headline={x, y}, read from file=data/density_time_sum.csv, set=d]
  ;
\end{tikzpicture}
\caption{caption}
\end{subfigure}
% }}}
% kde time_sum {{{
\begin{subfigure}[b]{0.49\textwidth}
\begin{tikzpicture}[scale=1]
  \datavisualization[
    scientific axes=clean,
    visualize as line/.list={d},
    y axis={include value={0}, label={P(Time=$t$)}},
    x axis={include value={0}, label={time in seconds $t$}},
  ]
  data[headline={x, y}, read from file=data/kde_time_sum.csv, set=d]
  ;
\end{tikzpicture}
\caption{caption}
\end{subfigure}
% }}}

\vspace{1cm}
\noindent
% density -> num_iter {{{
\begin{subfigure}[b]{0.49\textwidth}
\begin{tikzpicture}[scale=1]
  \datavisualization[
    scientific axes=clean,
    visualize as scatter/.list={d},
    d={style={mark=x, mark size=1.5pt}},
    y axis={include value={0}, label={amount of iterations $\#i$}},
    x axis={include value={0,1}, label={$\rho$}},
  ]
  data[headline={x, y}, read from file=data/density_num_iter.csv, set=d]
  ;
\end{tikzpicture}
\caption{caption}
\end{subfigure}
% }}}
% kde num_iter {{{
\begin{subfigure}[b]{0.49\textwidth}
\begin{tikzpicture}[scale=1]
  \datavisualization[
    scientific axes=clean,
    visualize as line/.list={d},
    y axis={include value={0}, label={P(Iter=$\#i$)}},
    x axis={include value={0}, label={amount of iterations $\#i$}},
  ]
  data[headline={x, y}, read from file=data/kde_num_iter.csv, set=d]
  ;
\end{tikzpicture}
\caption{caption}
\end{subfigure}
% }}}

\vspace{1cm}
\noindent
% time_sum -> num_iter {{{
\begin{subfigure}[b]{0.49\textwidth}
\begin{tikzpicture}[scale=1]
  \datavisualization[
    scientific axes=clean,
    visualize as scatter/.list={d},
    visualize as line/.list={d1},
    d={style={mark=x, mark size=1.5pt}},
    d1={style={visualizer color=black!50},
        label in legend={text={linear regression line} }},
    y axis={include value={0}, label={amount of iterations $\#i$}},
    x axis={include value={0}, label={time in seconds $t$}},
    %legend=below,
  ]
  data[headline={x, y}, read from file=data/time_sum_num_iter.csv, set=d]
  data[headline={x, y}, read from file=data/lin_reg_time_sum_num_iter.csv, set=d1]
  ;
\end{tikzpicture}
\caption{caption}
\end{subfigure}
% }}}

\caption{caption}
\end{center}
\end{figure}
% }}}

% 2nd part fig {{{
\begin{figure}
\begin{center}
\begin{tikzpicture}[scale=0.75] % {{{
\begin{axis}[
  tick align=outside,
  axis x line=bottom,
  axis y line=left,
  axis line shift=10pt,
  xlabel=time in seconds $t$,
  ylabel=percentage of $t$,
  label shift=10pt,
  legend style={
    at={(2,0.5)},
    anchor=east,
    cells={anchor=west},
    draw=white
  },
]
  \addplot[name path=map, color=black!30] table[header=false, col sep=comma] {data/map_percentage.csv};
  \addlegendentry{Map}
  \addplot[name path=sort, color=black!60] table[header=false, col sep=comma] {data/sort_percentage.csv};
  \addlegendentry{Sort}
  \addplot[name path=color, color=black!90] table[header=false, col sep=comma] {data/color_percentage.csv};
  \addlegendentry{Color}

  \path[name path=axis] (axis cs:0.009,0) -- (axis cs:0.99,0);

  \addplot[fill=black!30] fill between[of=map and sort];
  \addplot[fill=black!60] fill between[of=sort and color];
  \addplot[fill=black!90] fill between[of=color and axis];
\end{axis}
\end{tikzpicture}
% }}}
\vspace{0.5cm}
\caption{Caption}
\end{center}
\end{figure}
% }}}

% }}}

\section{Discussion} % {{{

% }}}

\section{Conclusion} % {{{

% }}}

\end{document}
